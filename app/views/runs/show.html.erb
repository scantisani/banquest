<head>
  <script>
    $(document).keypress(function(e) {
      var key = String.fromCharCode(e.which);
      // e.which only finds character code (integer)
      // key is a single-character string

      $.ajax({
        type: "PATCH",
        data: {keypress: key},
        dataType: 'json'
      }).done(function(data) {
        $('#map').html(data.map);
      });
    });
  </script>
</head>

<div id="map">Press any key to begin.</div>
